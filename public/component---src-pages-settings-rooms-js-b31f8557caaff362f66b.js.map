{"version":3,"sources":["webpack:///./src/pages/settings/rooms.js","webpack:///./src/components/SettingsMenu.js","webpack:///empty/style/index.jsx"],"names":["RoomsSettingsPage","state","rooms","loading","componentDidMount","_this2","this","props","location","justDeleted","antd_lib_message__WEBPACK_IMPORTED_MODULE_8___default","a","success","navigate","pathname","replace","setState","fetch","process","then","resp","json","renderEmptyRoom","react__WEBPACK_IMPORTED_MODULE_11___default","createElement","height","width","fill","xmlns","xmlnsXlink","version","x","y","viewBox","xmlSpace","d","renderRooms","style","textAlign","antd_lib_spin__WEBPACK_IMPORTED_MODULE_4___default","size","indicator","antd_lib_icon__WEBPACK_IMPORTED_MODULE_6___default","type","length","map","room","gatsby__WEBPACK_IMPORTED_MODULE_10__","to","id","className","hidden","key","title","name","antd_lib_empty__WEBPACK_IMPORTED_MODULE_1___default","image","imageStyle","description","render","_components_Layout__WEBPACK_IMPORTED_MODULE_13__","_components_SettingsMenu__WEBPACK_IMPORTED_MODULE_12__","page","Component","SettingsMenu","_ref","react__WEBPACK_IMPORTED_MODULE_3___default","antd_lib_menu__WEBPACK_IMPORTED_MODULE_1___default","selectedKeys","mode","Item","gatsby__WEBPACK_IMPORTED_MODULE_2__","propTypes","PropTypes","string","isRequired","__webpack_require__"],"mappings":"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","file":"component---src-pages-settings-rooms-js-b31f8557caaff362f66b.js","sourcesContent":["import { Link, navigate } from \"gatsby\"\nimport { Icon, Spin, Empty, message } from \"antd\"\nimport React, { Component } from 'react'\n\nimport SettingsMenu from \"../../components/SettingsMenu\"\nimport Layout from \"../../components/Layout\"\n\nclass RoomsSettingsPage extends Component {\n  state = {\n    rooms: [],\n    loading: true\n  }\n\n  componentDidMount() {\n    if (this.props.location.state && this.props.location.state.justDeleted) {\n      message.success(`${this.props.location.state.justDeleted} was successfully deleted.`)\n      // clear justDeleted state so we don't keep seeing it\n      let state = this.props.location.state\n      delete state.justDeleted\n      navigate(this.props.location.pathname, {state, replace: true})\n    }\n\n    this.setState({loading: true})\n    fetch(`${process.env.API_URL}api/1/rooms?include_hidden=true`)\n      .then(resp => resp.json())\n      .then(resp => this.setState({rooms: resp, loading: false}))\n  }\n\n  renderEmptyRoom() {\n    return (\n      <svg height='100px' width='100px'  fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 90 90\"xmlSpace=\"preserve\"><g><path d=\"M82.35,15.78c-0.1-0.09-0.24-0.13-0.37-0.13l-36.95,5.71L8.02,15.65c-0.14,0-0.27,0.04-0.37,0.13   C7.56,15.87,7.5,16,7.5,16.14v38.45c0,0.18,0.1,0.35,0.26,0.44L44.77,74.3c0.07,0.04,0.15,0.06,0.23,0.06   c0.08,0,0.16-0.02,0.23-0.06l37.01-19.27c0.16-0.09,0.27-0.25,0.27-0.44V16.14C82.5,16,82.44,15.87,82.35,15.78z M8.64,16.83   l35.72,5.63v25.17l-8.88,1.54l-0.03-21.27c0-0.27-0.2-0.51-0.48-0.54l-11.84-1.19c-0.16-0.02-0.32,0.03-0.44,0.13   c-0.12,0.1-0.19,0.25-0.19,0.41v24.71L8.64,53.82V16.83z M34.37,49.35L23.6,51.22V27.33l10.74,1.04L34.37,49.35z M13.99,56.98   l-4-2.08L45,48.82l2.48,0.43l-33.16,7.91L13.99,56.98z M14.77,57.39l33.54-7.99l4.06,0.71l-33.16,9.6L14.77,57.39z M19.63,59.92   l33.47-9.69l4.16,0.72L24.23,62.32L19.63,59.92z M24.63,62.53l33.3-11.46l4.93,0.86L29.41,65.02L24.63,62.53z M29.8,65.22   l33.69-13.19l5.23,0.91L34.47,67.65L29.8,65.22z M34.85,67.85l34.46-14.81l4.74,0.82L39.73,70.39L34.85,67.85z M45,73.13   l-4.91-2.55l34.51-16.62l5.41,0.94L45,73.13z M81.36,53.82l-35.71-6.2V22.45l35.71-5.63V53.82z\"></path><path d=\"M76.13,28.46c-0.19-0.17-0.42-0.26-0.67-0.26c-0.03,0-0.06,0-0.1,0l-10.38,1c-0.51,0.05-0.9,0.48-0.9,1v7.88   c0,0.52,0.4,0.96,0.93,1l10.38,0.75c0.02,0,0.05,0,0.07,0c0.25,0,0.5-0.1,0.68-0.27c0.2-0.19,0.32-0.45,0.32-0.73V29.2   C76.46,28.92,76.34,28.65,76.13,28.46z M75.46,29.2v4.84H70.2v-4.34L75.46,29.2z M69.92,29.74v4.31h-4.84V30.2L69.92,29.74z    M65.08,34.33h4.84v4.1l-4.84-0.35V34.33z M70.2,38.45v-4.12h5.25v4.5L70.2,38.45z\"></path></g></svg>\n    )\n  }\n\n  renderRooms() {\n    if (this.state.loading) {\n      return <div style={{textAlign: 'center'}}><Spin size=\"large\" indicator={<Icon type=\"loading\" />} /></div>\n    } else if (this.state.rooms.length > 0) {\n      return this.state.rooms.map(room => <Link to={`/settings/room?id=${room.id}`}\n              className={`room ${room.hidden ? '' : 'active'}`} key={`room${room.id}`}\n              title={room.name}>{ room.name }</Link>)\n    } else {\n      return (\n        <Empty image={this.renderEmptyRoom()} imageStyle={{height: 80}} description={\"No rooms found.\"} />\n      )\n    }\n  }\n\n  render() {\n    return (\n      <Layout title=\"Settings\">\n        <SettingsMenu page=\"rooms\" />\n\n        { this.renderRooms() }\n      </Layout>\n    )\n  }\n}\n\nexport default RoomsSettingsPage\n","import { Link } from \"gatsby\"\nimport { Menu } from \"antd\"\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\n\nconst SettingsMenu = ({ page }) => (\n  <Menu selectedKeys={[page]} mode=\"horizontal\">\n    <Menu.Item key=\"doors\">\n      <Link to=\"/settings\">Doors</Link>\n    </Menu.Item>\n    <Menu.Item key=\"rooms\">\n      <Link to=\"/settings/rooms\">Rooms</Link>\n    </Menu.Item>\n    <Menu.Item key=\"homekit\">\n      <Link to=\"/settings/integrations/homekit\">HomeKit</Link>\n    </Menu.Item>\n    <Menu.Item key=\"hue\">\n      <Link to=\"/settings/integrations/hue\">Hue</Link>\n    </Menu.Item>\n    <Menu.Item key=\"ifttt\">\n      <Link to=\"/settings/integrations/ifttt\">IFTTT</Link>\n    </Menu.Item>\n  </Menu>\n)\n\nSettingsMenu.propTypes = {\n  page: PropTypes.string.isRequired\n}\n\nexport default SettingsMenu\n","import '../../style/index.less';\nimport './index.less';\n"],"sourceRoot":""}